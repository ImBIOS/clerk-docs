---
title: Ruby on Rails integration
description: The Clerk SDK comes with Rack middleware and a gem that can be used in Rails apps.
---

If you add the gem in a Rails app, the Rack middleware will be included automatically in the middleware stack. For easier access to the Clerk session and user, include the `Clerk::Authenticatable` concern in your controller:


```ruby
class ApplicationController < ActionController::Base
  include Clerk::Authenticatable

  private

  def require_clerk_session!
    # Don't forget to set the environment variable `CLERK_SIGN_IN_URL` or the method `sign_in_url` will fail.
    redirect_to clerk.sign_in_url unless clerk.session
  end
end
```

This gives your controller and views access to the `clerk` method.

## Protected & Reverification actions

If you want to protect a subset of your controllers (for example, if you have an admin section), you can add a custom `before_action` seen in the example below.

If you would like to require the user to reverify their session, if necessary, you can add the provided `:require_reverification!` filter to the action you're looking to protect. The `:require_reverification!` filter defaults to `Clerk::StepUp::Preset::STRICT`, but can accept an alternate preset.

```ruby
class AdminController < ApplicationController
  before_action :require_clerk_session!
  before_action :require_reverification!, only: :destroy #, preset: Clerk::StepUp::Preset::LAX


  def index
    # ...
  end

  def destroy
    # ...
  end
end
```


